appId: com.pieterbergwerff.turborepo-electron-nextjs
productName: TurborepoElectronNext
asar: false
electronVersion: 39.2.0

# Include Electron build + Next standalone app; exclude electron from Next tree
files:
  - from: 'dist'
    to: 'apps/desktop/dist'
  - from: 'nextjs-standalone/apps/app'
    to: 'apps/app'
  - from: 'nextjs-standalone/node_modules'
    to: 'apps/app/node_modules'
  - from: 'nextjs-standalone/.next/static'
    to: 'apps/app/.next/static'
  - from: '../app/public'
    to: 'apps/app/public'
  - '!**/node_modules/electron/**'

extraResources:
  - from: ../../packages/database/seed/app.sqlite
    to: app.sqlite

afterSign: '../../packages/scripts/afterSign.mjs'

mac:
  category: public.app-category.productivity
  hardenedRuntime: true
  gatekeeperAssess: false
  target: [dmg]
  artifactName: '${productName}-${version}-${arch}.dmg'

win:
  target: [nsis]
  artifactName: '${productName}-${version}-x64.exe'

linux:
  target: [AppImage, deb]
  category: Utility
  artifactName: '${productName}-${version}-${arch}.${ext}'
