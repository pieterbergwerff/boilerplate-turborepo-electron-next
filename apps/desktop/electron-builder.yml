appId: com.pieterbergwerff.turborepo-electron-nextjs
productName: TurborepoElectronNext
asar: false
electronVersion: 39.2.0
npmRebuild: true

# Include Electron build + Next standalone app
files:
  - dist/**/*
  - nextjs-standalone/**/*
  - '!nextjs-standalone/node_modules/electron'
  - '!nextjs-standalone/node_modules/electron/**'

extraResources:
  - from: ../../packages/database/seed/app.sqlite
    to: app.sqlite

afterSign: '../../packages/scripts/afterSign.mjs'

mac:
  category: public.app-category.productivity
  hardenedRuntime: true
  gatekeeperAssess: false
  # Skip signing when no certificate is available (e.g., in CI)
  identity: null
  target: [dmg]
  artifactName: '${productName}-${version}-${arch}.dmg'

win:
  target: [nsis]
  artifactName: '${productName}-${version}-x64.exe'

linux:
  target: [AppImage, deb]
  category: Utility
  artifactName: '${productName}-${version}-${arch}.${ext}'
